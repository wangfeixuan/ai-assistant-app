# ğŸš€ æ‹–å»¶ç—‡AIåŠ©æ‰‹ - ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²æŒ‡å—

## ğŸ“‹ éƒ¨ç½²æ¦‚è§ˆ

å°†Flutteråº”ç”¨ä¸Šæ¶App Storeéœ€è¦å°†åç«¯APIéƒ¨ç½²åˆ°äº‘æœåŠ¡å™¨ï¼Œç¡®ä¿ç”¨æˆ·å¯ä»¥ä»ä»»ä½•åœ°æ–¹è®¿é—®ã€‚

## ğŸ›  éƒ¨ç½²æ¶æ„

```
Flutter App (iOS) â†’ API Gateway â†’ äº‘æœåŠ¡å™¨ â†’ æ•°æ®åº“
                                    â†“
                              AIæœåŠ¡(OpenAI)
```

## ğŸ’° æˆæœ¬é¢„ä¼°

### æ–¹æ¡ˆä¸€ï¼šé˜¿é‡Œäº‘ï¼ˆæ¨èå›½å†…ç”¨æˆ·ï¼‰
- **ECSäº‘æœåŠ¡å™¨** (2æ ¸4G): Â¥150/æœˆ
- **RDS PostgreSQL** (1æ ¸2G): Â¥80/æœˆ  
- **åŸŸåæ³¨å†Œ**: Â¥50/å¹´
- **SSLè¯ä¹¦**: å…è´¹
- **æ€»è®¡**: çº¦Â¥230/æœˆ + Â¥50/å¹´

### æ–¹æ¡ˆäºŒï¼šè…¾è®¯äº‘
- ä»·æ ¼ç±»ä¼¼é˜¿é‡Œäº‘
- æ–°ç”¨æˆ·é¦–å¹´ä¼˜æƒ çº¦50%

### æ–¹æ¡ˆä¸‰ï¼šVercel + Supabaseï¼ˆç®€åŒ–éƒ¨ç½²ï¼‰
- **Verceléƒ¨ç½²**: å…è´¹ï¼ˆå¤Ÿç”¨ï¼‰
- **Supabaseæ•°æ®åº“**: å…è´¹é¢åº¦ + $25/æœˆ
- **åŸŸå**: å…è´¹å­åŸŸåæˆ–è‡ªè´­
- **æ€»è®¡**: $0-25/æœˆ

## ğŸ”§ éƒ¨ç½²æ­¥éª¤

### é˜¶æ®µ1ï¼šå‡†å¤‡å·¥ä½œ
1. **è´­ä¹°äº‘æœåŠ¡å™¨**
   - é€‰æ‹©æ“ä½œç³»ç»Ÿï¼šUbuntu 20.04 LTS
   - é…ç½®ï¼š2æ ¸4Gå†…å­˜ï¼Œ40Gç¡¬ç›˜
   - å¼€æ”¾ç«¯å£ï¼š80, 443, 5432

2. **åŸŸåå’ŒSSL**
   - æ³¨å†ŒåŸŸåï¼ˆå¦‚ï¼šyourapp.comï¼‰
   - ç”³è¯·å…è´¹SSLè¯ä¹¦
   - é…ç½®DNSè§£æ

### é˜¶æ®µ2ï¼šæœåŠ¡å™¨é…ç½®
```bash
# æ›´æ–°ç³»ç»Ÿ
sudo apt update && sudo apt upgrade -y

# å®‰è£…Pythonå’Œä¾èµ–
sudo apt install python3 python3-pip python3-venv nginx postgresql -y

# å®‰è£…Node.jsï¼ˆç”¨äºå‰ç«¯æ„å»ºï¼‰
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt-get install -y nodejs
```

### é˜¶æ®µ3ï¼šæ•°æ®åº“è®¾ç½®
```bash
# é…ç½®PostgreSQL
sudo -u postgres createuser --interactive
sudo -u postgres createdb procrastination_ai
```

### é˜¶æ®µ4ï¼šéƒ¨ç½²åç«¯
```bash
# åˆ›å»ºåº”ç”¨ç›®å½•
sudo mkdir /var/www/procrastination-ai
cd /var/www/procrastination-ai

# å…‹éš†ä»£ç ï¼ˆæˆ–ä¸Šä¼ ï¼‰
git clone your-repo.git .

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python3 -m venv venv
source venv/bin/activate

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# é…ç½®ç¯å¢ƒå˜é‡
cp backend/.env.example backend/.env
# ç¼–è¾‘.envæ–‡ä»¶ï¼Œå¡«å…¥ç”Ÿäº§ç¯å¢ƒé…ç½®
```

### é˜¶æ®µ5ï¼šNginxé…ç½®
```nginx
server {
    listen 80;
    server_name your-domain.com;
    
    location / {
        proxy_pass http://127.0.0.1:5000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

### é˜¶æ®µ6ï¼šè¿›ç¨‹ç®¡ç†
ä½¿ç”¨Gunicorn + Supervisorç¡®ä¿æœåŠ¡ç¨³å®šè¿è¡Œï¼š

```bash
# å®‰è£…Gunicorn
pip install gunicorn

# åˆ›å»ºå¯åŠ¨è„šæœ¬
gunicorn --bind 0.0.0.0:5000 app:app
```

## ğŸ” å®‰å…¨é…ç½®

1. **é˜²ç«å¢™è®¾ç½®**
   ```bash
   sudo ufw enable
   sudo ufw allow ssh
   sudo ufw allow 'Nginx Full'
   ```

2. **SSLè¯ä¹¦**
   ```bash
   sudo apt install certbot python3-certbot-nginx
   sudo certbot --nginx -d your-domain.com
   ```

3. **æ•°æ®åº“å®‰å…¨**
   - ä¿®æ”¹é»˜è®¤å¯†ç 
   - é™åˆ¶è®¿é—®IP
   - å®šæœŸå¤‡ä»½

## ğŸ“± Flutteré…ç½®æ›´æ–°

éƒ¨ç½²å®Œæˆåï¼Œéœ€è¦æ›´æ–°Flutteråº”ç”¨ä¸­çš„APIåœ°å€ï¼š

```dart
// lib/config/api_config.dart
class ApiConfig {
  static const String baseUrl = 'https://your-domain.com/api';
  // æ›¿æ¢ä¸ºä½ çš„å®é™…åŸŸå
}
```

## ğŸ§ª æµ‹è¯•éªŒè¯

1. **APIæµ‹è¯•**
   ```bash
   curl https://your-domain.com/health
   ```

2. **æ•°æ®åº“è¿æ¥æµ‹è¯•**
3. **SSLè¯ä¹¦éªŒè¯**
4. **æ€§èƒ½æµ‹è¯•**

## ğŸ“Š ç›‘æ§å’Œç»´æŠ¤

1. **æ—¥å¿—ç›‘æ§**
   - è®¾ç½®æ—¥å¿—è½®è½¬
   - ç›‘æ§é”™è¯¯æ—¥å¿—

2. **æ€§èƒ½ç›‘æ§**
   - CPUã€å†…å­˜ä½¿ç”¨ç‡
   - æ•°æ®åº“æ€§èƒ½

3. **å¤‡ä»½ç­–ç•¥**
   - æ•°æ®åº“å®šæœŸå¤‡ä»½
   - ä»£ç ç‰ˆæœ¬ç®¡ç†

## ğŸ’¡ æˆæœ¬ä¼˜åŒ–å»ºè®®

1. **å¼€å‘é˜¶æ®µ**ï¼šä½¿ç”¨Vercelå…è´¹é¢åº¦
2. **æµ‹è¯•é˜¶æ®µ**ï¼šé€‰æ‹©æœ€ä½é…ç½®äº‘æœåŠ¡å™¨
3. **ç”Ÿäº§é˜¶æ®µ**ï¼šæ ¹æ®ç”¨æˆ·é‡æ‰©å®¹
4. **é•¿æœŸè¿è¥**ï¼šè€ƒè™‘åŒ…å¹´ä¼˜æƒ 

## ğŸš¨ æ³¨æ„äº‹é¡¹

1. **App Storeå®¡æ ¸**
   - ç¡®ä¿APIç¨³å®šå¯è®¿é—®
   - å‡†å¤‡éšç§æ”¿ç­–å’Œç”¨æˆ·åè®®
   - æµ‹è¯•æ‰€æœ‰åŠŸèƒ½æ­£å¸¸

2. **æ•°æ®åˆè§„**
   - ç”¨æˆ·æ•°æ®åŠ å¯†å­˜å‚¨
   - éµå®ˆGDPRç­‰æ³•è§„
   - å®ç°æ•°æ®åˆ é™¤åŠŸèƒ½

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœåœ¨éƒ¨ç½²è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œå¯ä»¥ï¼š
1. æŸ¥çœ‹æœåŠ¡å™¨æ—¥å¿—
2. æ£€æŸ¥ç½‘ç»œè¿æ¥
3. éªŒè¯é…ç½®æ–‡ä»¶
4. è”ç³»äº‘æœåŠ¡å•†æŠ€æœ¯æ”¯æŒ

---

**å»ºè®®**ï¼šå…ˆä½¿ç”¨Vercel + Supabaseæ–¹æ¡ˆè¿›è¡Œæµ‹è¯•éƒ¨ç½²ï¼Œæˆæœ¬ä½ä¸”é…ç½®ç®€å•ã€‚ç­‰åº”ç”¨ç¨³å®šåå†è€ƒè™‘è¿ç§»åˆ°ä¸“ç”¨æœåŠ¡å™¨ã€‚
